{% extends 'base.html' %}

{% block title %}List of students{% endblock %}


{% block content %}

<!--экспериментирую с передачей аргументов-->
    <form method={{method}}>
        <table>
            <tr>
                <td><label for="fname" style="font-weight: bold;">First name:</label></td>
                <td><input type="text" id="fname" name="first_name" placeholder="Bob"></td>
            </tr>
            <tr>
                <td><label for="lname" style="font-weight: bold;">Last name:</label></td>
                <td><input type="text" id="lname" name="last_name" placeholder="Dilan"></td>
            </tr>
            <tr>
<!--                <td><input type="number" id="age_id" name="{{st.get_age}}" placeholder="130"></td>-->

                <td><label for="birthday_id" style="font-weight: bold;">Birthday:</label></td>
                <td><input type="date" id="birthday_id" name="birthday" placeholder="31.12.1991"></td>
            </tr>
            <tr>
                <td><label for="ph_number" style="font-weight: bold;">Phone number:</label></td>
                <td><input type="text" id="ph_number" name="phone_number" placeholder="0123456789"></td>
            </tr>

        </table>
        <input type="submit" value="Search">
<!--        <input type="submit" value="Create">-->
         {% if args %}
                <button type="submit"><a href="{% url 'students' %}">Back to list</a></button>
         {% endif %}
    </form>
<!--        <button type="submit"><a href="create/">Create</a></button>-->
    <br>
    <br>

    <table class="table table-hover table-striped">
<!--        cellspacing="5" cellpadding="10" border="0" width="100%"-->
    <thead class="table-bordered">
        <tr>
            <th style="width: 5%">N</th>
            <th style="width: 25%">First name</th>
            <th style="width: 25%">Last name</th>
            <th style="width: 5%">Age</th>
            <th style="width: 15%">Birthday</th>
            <th><i class="bi bi-telephone-fill"></i></th>
            <th style="width: 5%"><i class="bi bi-pencil-fill"></i></th>
            <th style="width: 5%"><i class="bi bi-trash3-fill"></i></th>        </tr>
    </thead>
    {% for student in students %}
    <tr>
        <td>{{ forloop.counter }}</td>
<!--        <td>{{ student.id }}</td>-->
        <td>{{ student.first_name }}</td>
        <td>{{ student.last_name }}</td>
        <td>{% if student.get_age %}{{ student.get_age }}{% endif %}</td>
        <td>{{ student.birthday }}</td>
        <td>{% if student.phone_number %}{{ student.phone_number }}{% endif %}</td>
        <td><a href="{% url 'update_student' student.pk %}">Edit</a></td>
        <td><a href="{% url 'delete_student' student.pk %}">Delete</a></td>

        <!-- <br>-->
        </tr>
    {% endfor %}
    </table>

{% endblock %}